@inherits Umbraco.Web.Mvc.UmbracoTemplatePage<ContentModels.Home>
@using ContentModels = Umbraco.Web.PublishedContentModels;
@{
    Layout = "Master.cshtml";
    var home = Model.Content;
    var sponsors = Umbraco.Content(Guid.Parse("c83fddaf-6ce9-41ea-bdc9-68d6bd7195bc"));
}

<!-- Main Slider Section Start -->
<div id="carousel-area">
    <div id="carousel-slider" class="carousel slide" data-ride="carousel">

        <!-- Wrapper for slides -->
        <div class="carousel-inner" role="listbox">
            <div class="item active">
                <img class="banner-background" src="@(home.BannerImage1 != null ? home.BannerImage1.Url : "/assets/img/slider/FinishBanner3-1920x600.jpg")" />
            </div>
            <div class="item">
                <img class="banner-background" src="@(home.BannerImage2 != null ? home.BannerImage2.Url : "/assets/img/slider/triathlon-swim1920x600.jpg")" />
            </div>
            <div class="item">
                <img class="banner-background" src="@(home.BannerImage3 != null ? home.BannerImage3.Url : "/assets/img/slider/triathlon-bike1920x600.jpg")" />
            </div>
        </div>
        <img class="banner-image" src="@(home.RaceBanner != null ? home.RaceBanner.Url : "assets/img/slider/Banner-2021.png")" alt="">
        <div class="carousel-caption enter">
            <div class="buttons wow fadeInDown" data-wow-delay="0.2s">
                @if (!home.EntriesDisabled)
                {
                    <a class="btn btn-lg btn-common" href="/enter-race">Enter Now</a>
                }
                else if (home.DisabledEntryLink != null && home.DisabledEntryLink.Any())
                {
                    <a class="btn btn-lg btn-common" href="@home.DisabledEntryLink.First().Link">@home.DisabledEntryLink.First().Caption</a>
                }
            </div>
        </div>

        <!-- Controls -->
        <a class="left carousel-control" href="#carousel-slider" role="button" data-slide="prev">
            <span class="icon-arrow-left" aria-hidden="true"></span>
        </a>
        <a class="right carousel-control" href="#carousel-slider" role="button" data-slide="next">
            <span class="icon-arrow-right" aria-hidden="true"></span>
        </a>
    </div>
</div>
<!-- Main Slider Section End -->
<!-- Counter Section Start -->
<section id="counter" class="section">
    <div class="counter-wrapper clearfix">
        <div class="container">
            <div class="counter-title-block">
                <h4 class="counter-subtitle">20th Anniversary Race!</h4>
                <h4 class="counter-title" title="Race day">@home.RaceDate.ToString("dddd dd MMMM yyyy")</h4>
            </div>
            <div class="counters-block clearfix">
                <div id="countdown-container" title="Time left">
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Counter Section End -->
<!-- Testimonials Section Start -->
<section id="testimonials" class="section">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h2 class="section-title wow fadeInUp" data-wow-delay="0s">Testimonials</h2>
                <div class="section-subcontent wow fadeInUp" data-wow-delay="0.2s">
                    @home.TestimonialsIntro
                </div>
            </div>
            <div class="col-md-4 col-sm-6 col-xs-12">
                <div class="wow fadeInUp" data-wow-delay="0.1s">
                    <h3>
                        "@home.Testimonial1"
                    </h3>
                    <p>@home.Testimonial1Author</p>
                </div>
            </div>

            <div class="col-md-4 col-sm-6 col-xs-12">
                <div class="wow fadeInUp" data-wow-delay="0.1s">
                    <h3>"@home.Testimonial2"</h3>
                    <p>@home.Testimonial2Author</p>
                </div>
            </div>
            <div class="col-md-4 col-sm-6 col-xs-12">
                <div class="wow fadeInUp" data-wow-delay="0.1s">
                    <h3>
                        "@home.Testimonial3"
                    </h3>
                    <p>@home.Testimonial3Author</p>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Testimonials Section End -->
<!-- Call to action Section -->
@if (!home.EntriesDisabled)
{
    <section id="intro" class="section-small">
        <div class="container">
            <div class="row">
                <div class="col-md-12 text-center">
                    <h2 class="wow animated slideInRight" data-wow-delay=".4s">
                        @home.EntryCallToActionText
                    </h2>
                    <a rel="nofollow" href="/enter-race" class="wow animated fadeInUp btn btn-inverse mt-50" data-wow-delay=".6s">
                        <i class="fa fa-check-circle"></i> Enter now!
                        <div class="ripple-container"></div>
                    </a>
                </div>
            </div>
        </div>
    </section>
}
<!-- Call to action Section End -->
<!-- Sponsors Section Start -->
<section id="sponsors" class="section">
    <div class="col-md-12">
        <h2 class="section-title wow fadeInUp" data-wow-delay="0s">
            Our Sponsors
        </h2>
        <div class="section-subcontent wow fadeInUp" data-wow-delay="0.2s">
            @home.SponsorsIntro
        </div>
    </div>
    <marquee direction="left">
        <div class="container">
            <div class="row" style="display: flex; flex-wrap: nowrap; justify-content: center;">
                @foreach (var logoItem in sponsors.Logos)
                {
                    if (logoItem.Link != null)
                    {
                        <div class="col-md-3 col-sm-6 col-xs-12">
                            <div class="spnsors-logo wow fadeInUp" data-wow-delay="0.1s">
                                <a href="@logoItem.Link" target="_blank">
                                    <img src="@logoItem.Logo.Url">
                                </a>
                            </div>
                        </div>
                    }
                }
            </div>
            <div class="row">

            </div>
        </div>
    </marquee>
</section>
<!-- Sponsors Section End -->

@section Foot {
    <script type="text/javascript">
        var year = @home.RaceDate.Year;
        var month = @home.RaceDate.Month;
        var day = @home.RaceDate.Day;

        $(document).ready(function () {
            initCountdownTimer(year, month, day);
        });
    </script>
}
