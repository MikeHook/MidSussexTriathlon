<div class="welcome-dashboard" ng-controller="EntriesDashboardController">
    <p>
        Hello <b>{{UserName}}</b>. We hope you find the experience of editing your content with Umbraco enjoyable and delightful. If you discover any problems with the site please report them to the <a href="mailto:support@midsussextriclub.com">support team</a>.
    </p>

    <h3>Race entries</h3>

    <div class="table-responsive">
        <table class="table table-striped table-condensed" st-table="displayedCollection" st-safe-src="Entries">
            <thead>
                <tr>
                    <th></th>
                    <th st-sort="EntryDate" st-sort-default="reverse">Date entered</th>
                    <th st-sort="FirstName">First Name</th>
                    <th st-sort="LastName">Last Name</th>
                    <th st-sort="DateOfBirth">Date of birth</th>
                    <th st-sort="PhoneNumber">Phone</th>
                    <th st-sort="Email">Email</th>
                    <th st-sort="Gender">Gender</th>
                    <th st-sort="AddressLine1">Address Line 1</th>
                    <th st-sort="AddressLine2">Line 2</th>
                    <th st-sort="City">City</th>
                    <th st-sort="County">County</th>
                    <th st-sort="Postcode">Postcode</th>
                    <th st-sort="RaceType">Race Type</th>
                    <th st-sort="SwimTime">Swim Time</th>
                    <th st-sort="SwimDistance">Swim Distance</th>
                    <th st-sort="BtfNumber">BTF Number</th>
                    <th st-sort="ClubName">Club Name</th>
                    <th st-sort="TermsAccepted">Terms Accepted?</th>
                    <th st-sort="Paid">Paid?</th>
                    <th st-sort="PaymentFailureMessage">Payment Failure Message</th>
                    <th st-sort="OrderReference">Order Reference</th>
                    <th st-sort="NewToSport">New To Sport?</th>
                    <th st-sort="HowHeardAboutUs">How Heard About Us</th>
                    <th st-sort="Relay2FirstName">Relay 2 First Name</th>
                    <th st-sort="Relay2LastName">Relay 2 Last Name</th>
                    <th st-sort="Relay2BtfNumber">Relay 2 Btf Number</th>
                    <th st-sort="Relay3FirstName">Relay 3 First Name</th>
                    <th st-sort="Relay3LastName">Relay 3 Last Name</th>
                    <th st-sort="Relay3BtfNumber">Relay 3 Btf Number</th>
                    <th st-sort="Wave">Start Wave</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="entry in displayedCollection">
                    <td class="edit" ng-click="openDetail(entry, displayedCollection)">Edit</td>
                    <td>{{entry.EntryDate  | date:'dd/MM/yyyy'}}</td>
                    <td>{{entry.FirstName}}</td>
                    <td>{{entry.LastName}}</td>
                    <td>{{entry.DateOfBirth  | date:'dd/MM/yyyy'}}</td>
                    <td>{{entry.PhoneNumber}}</td>
                    <td>{{entry.Email}}</td>
                    <td>{{entry.Gender}}</td>
                    <td>{{entry.AddressLine1}}</td>
                    <td>{{entry.AddressLine2}}</td>
                    <td>{{entry.City}}</td>
                    <td>{{entry.County}}</td>
                    <td>{{entry.Postcode}}</td>
                    <td>{{entry.RaceType}}</td>
                    <td>{{entry.SwimTime}}</td>
                    <td>{{entry.SwimDistance}}</td>
                    <td>{{entry.BtfNumber}}</td>
                    <td>{{entry.ClubName}}</td>
                    <td>{{entry.TermsAccepted ? 'Yes' : 'No'}}</td>
                    <td>{{entry.Paid ? 'Yes' : 'No'}}</td>
                    <td>{{entry.PaymentFailureMessage}}</td>
                    <td>{{entry.OrderReference}}</td>
                    <td>{{entry.NewToSport === null ? '' : entry.NewToSport ? 'Yes' : 'No'}}</td>
                    <td>{{entry.HowHeardAboutUs}}</td>
                    <td>{{entry.Relay2FirstName}}</td>
                    <td>{{entry.Relay2LastName}}</td>
                    <td>{{entry.Relay2BtfNumber}}</td>
                    <td>{{entry.Relay3FirstName}}</td>
                    <td>{{entry.Relay3LastName}}</td>
                    <td>{{entry.Relay3BtfNumber}}</td>
                    <td>{{entry.Wave}}</td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <td colspan="19" class="text-center">
                        <div class="row-fluid">
                            <div class="span8 text-center offset2">
                                <div st-pagination="" st-items-by-page="pageSize" st-displayed-pages="9" st-template="../App_Plugins/EntriesDashboard/pagination.html">
                                </div>
                            </div>

                            <div class="span2 text-right pagination">
                                <label>
                                    Page Size:
                                    <select ng-model="pageSize" ng-options="item as item for item in itemsPerPage" class="input-small"></select>
                                </label>
                            </div>
                        </div>
                    </td>
                </tr>
            </tfoot>
        </table>
    </div>
    <div class="umb-editor-drawer">
        <button class="btn btn-success" ng-click="getEntriesCsv()">
            Download entries
        </button>
    </div>

    <hr/>

    <div class="control-group umb-control-group">

        <div class="umb-el-wrap">

            <label class="control-label">
                Wave Size
            </label>

            <div class="controls">

                <div class="umb-property-editor">
                    <input type="number" name="waveSize" ng-model="waveSize" id="waveSize" />
                </div>
                <div class="umb-property-editor">
                    <button class="btn btn-success" ng-click="assignWaves()">Assign waves</button>
                </div>
            </div>
        </div>
    </div>

</div>
